<div class="create-video-container">
  <mat-card>
    <mat-card-header>
      <mat-card-title>Create new card</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <form [formGroup]="cardForm">
        <div class="form-field">
          <label for="title">Title</label>
          <input
            id="title"
            type="text"
            formControlName="title"
            placeholder="Title"
            [class.invalid]="titleControl?.invalid && titleControl?.touched"
          />
          @if (titleControl?.invalid && titleControl?.touched) {
          <div class="error-message">
            @if (titleControl?.hasError('required')) { Title is required } 
						@else if (titleControl?.hasError('minlength')) { Title must be at least 5
            characters } @else if (titleControl?.hasError('maxlength')) { Title
            cannot exceed 100 characters }
          </div>
          }
        </div>

        <div class="form-field">
          <label for="description">Description</label>
          <textarea
            id="description"
            formControlName="description"
            placeholder="Description"
            rows="3"
            [class.invalid]="
              descriptionControl?.invalid && descriptionControl?.touched
            "
          ></textarea>
          @if (descriptionControl?.invalid && descriptionControl?.touched) {
          <div class="error-message">
            @if (descriptionControl?.hasError('maxlength')) { Description cannot
            exceed 500 characters }
          </div>
          }
        </div>

        <div class="form-field">
          <label for="thumbnail">Img</label>
          <input
            id="thumbnail"
            type="text"
            formControlName="thumbnail"
            placeholder="Image URL"
            [class.invalid]="
              thumbnailControl?.invalid && thumbnailControl?.touched
            "
          />
          @if (thumbnailControl?.invalid && thumbnailControl?.touched) {
          <div class="error-message">
            @if (thumbnailControl?.hasError('required')) { Image URL is required
            } @else if (thumbnailControl?.hasError('pattern')) { Please enter a
            valid URL }
          </div>
          }
        </div>

        <div class="form-field">
          <label for="videoLink">Link video</label>
          <input
            id="videoLink"
            type="text"
            formControlName="videoLink"
            placeholder="Video URL"
            [class.invalid]="
              videoLinkControl?.invalid && videoLinkControl?.touched
            "
          />
          @if (videoLinkControl?.invalid && videoLinkControl?.touched) {
          <div class="error-message">
            @if (videoLinkControl?.hasError('required')) { Video URL is required
            } @else if (videoLinkControl?.hasError('pattern')) { Please enter a
            valid URL }
          </div>
          }
        </div>

        @if (submitError) {
        <div class="form-error">{{ submitError }}</div>
        }
      </form>
    </mat-card-content>

    <mat-card-actions>
      <button mat-button (click)="cancel()">
        <mat-icon>arrow_back</mat-icon>
        Back to Admin
      </button>
      <button
        mat-raised-button
        color="primary"
        [disabled]="cardForm.invalid || isSubmitting"
        (click)="onSubmit()"
      >
        <mat-icon>add</mat-icon>
        Create card
      </button>
    </mat-card-actions>
  </mat-card>
</div>
